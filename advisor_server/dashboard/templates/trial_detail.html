{% include "header.html" %}

<div class="container">

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-success">
         <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
         <span class="glyphicon glyphicon-ok"></span> {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <div id="trial">
    <div align="center">
      <h2> Trial: {{ trial.name }} </h2>
    </div>

    <table class="table table-striped table-hover table-condensed">
      <th class="text-center active">Attribute</th>
      <th class="text-center success">Value</th>

      <tr>
        <td class="active">Id</td>
        <td class="success">{{ trial.id }}</td>
      </tr>
      <tr>
        <td class="active">Study Id</td>
        <td class="success">{{ trial.study_id }}</td>
      </tr>
      <tr>
        <td class="active">Name</td>
        <td class="success">{{ trial.name }}</td>
      </tr>
      <tr>
        <td class="active">Parameter Values</td>
        <td class="success">{{ trial.parameter_values }}</td>
      </tr>
      <tr>
        <td class="active">	Objective Value</td>
        <td class="success">{{ trial.objective_value }}</td>
      </tr>
      <tr>
        <td class="active">Status</td>
        <td class="success">{{ trial.status }}</td>
      </tr>
      <tr>
        <td class="active">Created Time</td>
        <td class="success">{{ trial.updated_time }}</td>
      </tr>
      <tr>
        <td class="active">Updated Time</td>
        <td class="success">{{ trial.updated_time }}</td>
      </tr>
    </table>


    <form action="/dashboard/v1/studies/{{ trial.study_id }}/trials/{{ trial.id }}/metrics" method="post" onsubmit="return confirm('Do you want to create trial metric?');">
      <div class="form-group row">
        <label for="inputEmail3" class="col-sm-2 col-form-label"> Training step </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" name="training_step" value="1">
        </div>
      </div>
      <div class="form-group row">
        <label for="inputEmail3" class="col-sm-2 col-form-label"> Objective number </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" name="objective_value" value="0.9">
        </div>
      </div>
      <div class="form-group row">
        <div align="center">
          <button type="submit" class="btn btn-primary">Create Trial Metric</button>
        </div>
      </div>
    </form>

  </div>

  <div id="trial_metrics">
    <div align="center">
      <h2> Trial Metrics</h2>
    </div>

    <table class="table table-striped table-hover table-condensed">
      <th class="text-center active">Id</th>
      <th class="text-center success">Training Step</th>
      <th class="text-center warning">Objective value</th>
      <th class="text-center danger">Created Time</th>
      <th class="text-center info">Updated Time</th>
      <th class="text-center active">Operation</th>

      {% for trial_metric in trial_metrics %}
      <tr>
        <td class="active"><a href="/dashboard/v1/studies/{{ trial.study_id }}/trials/{{ trial.id }}">{{ trial_metric.id }}</a></td>
        <td class="success">{{ trial_metric.training_step }}</td>
        <td class="warning">{{ trial_metric.objective_value }}</td>
        <td class="danger">{{ trial.created_time }}</td>
        <td class="info">{{ trial.updated_time }}</td>
        <td class="active">
          <input type="image"  width="22px" src="/static/images/delete-icon.png" alt="Delete" onclick="delete_resource('/dashboard/v1/studies/{{ trial.study_id }}/trials/{{ trial.id }}/metrics/{{ trial_metric.id }}')"/>
        </td>
      </tr>
      {% endfor %}

    </table>
  </div>

</div><!-- end of container div -->

{% include "footer.html" %}
